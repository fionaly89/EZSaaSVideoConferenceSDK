viewDidLoad


存在问题：
1.退出企业后，首页企业列表没有更新
2.处理通知的代码没有添加
3.切换企业后没有自动关闭切换企业页面
4.

alipay



"type":0,//是否显示企业类型
"industry":0,//是否显示行业
"logo":0//是否显示logo


"name":0//是否显示 企业名称
"type":0//是否显示 企业类型
"industry":0//是否显示 所在行业
"city":0//是否显示 所在城市
"address":0//是否显示 详细地址
"StaffSize":0//是否显示 企业人员规模
"logo":0//是否显示 组织logo
"website":0//是否显示 官网
"phone":0//是否显示 联系电话
"introduction":0//是否显示 简介




EZSaaSCompanyCreateModel *nameModel = [self modelWithTitle:@"名称" placeholder:@"请输入名称，不超过32位汉字或字母" key:@"businessEntity" isRequired:YES type:EZSaaSCompanyCreateCellTypeTextField];
    nameModel.maxInputLength = 32;
    [self.dataSource addObject:nameModel];
    
    EZSaaSCompanyCreateModel *typeModel = [self modelWithTitle:@"企业类型" placeholder:@"请选择企业类型" key:@"companyTypeStr"  isRequired:YES type:EZSaaSCompanyCreateCellTypePickView];
    [self.dataSource addObject:typeModel];
    
    EZSaaSCompanyCreateModel *industryModel = [self modelWithTitle:@"所在行业" placeholder:@"请选择企业所在行业" key:@"industry" isRequired:YES type:EZSaaSCompanyCreateCellTypePickView];
    [self.dataSource addObject:industryModel];
    
    EZSaaSCompanyCreateModel *areaModel = [self modelWithTitle:@"所在城市" placeholder:@"请选择所在地区" key:@"cityNameStr" isRequired:NO type:EZSaaSCompanyCreateCellTypePickView];
    [self.dataSource addObject:areaModel];
    
    EZSaaSCompanyCreateModel *addressModel = [self modelWithTitle:@"详细地址" placeholder:@"请输入详细地址" key:@"addr" isRequired:NO type:EZSaaSCompanyCreateCellTypeTextField];
    [self.dataSource addObject:addressModel];
    
//    EZSaaSCompanyCreateModel *staffCountModel = [self modelWithTitle:@"人员规模" placeholder:@"请选择人员规模" key:@"staffNumStr" isRequired:YES type:EZSaaSCompanyCreateCellTypePickView];
//    [self.dataSource addObject:staffCountModel];
    
    EZSaaSCompanyCreateModel *logoModel = [self modelWithTitle:@"组织Logo" placeholder:@"请上传组织Logo" key:@"logoImg" isRequired:NO type:EZSaaSCompanyCreateCellTypeUploadPic];
   [self.dataSource addObject:logoModel];
    
    if (self.isEdit) {
        EZSaaSCompanyCreateModel *websiteModel = [self modelWithTitle:@"官网" placeholder:@"请输入官网地址" key:@"officialWebsite" isRequired:NO type:EZSaaSCompanyCreateCellTypeTextField];
        websiteModel.maxInputLength = 100;
        [self.dataSource addObject:websiteModel];
        
        EZSaaSCompanyCreateModel *phoneModel = [self modelWithTitle:@"联系电话" placeholder:@"请输入联系电话" key:@"phone" isRequired:NO type:EZSaaSCompanyCreateCellTypeTextField];
        [self.dataSource addObject:phoneModel];
        
        EZSaaSCompanyCreateModel *priefModel = [self modelWithTitle:@"简介" placeholder:@"一句话让别人了解您的组织" key:@"companyBrief" isRequired:NO type:EZSaaSCompanyCreateCellTypeTextView];
        [self.dataSource addObject:priefModel];















            NORMAL_IMG   :@"\U0000e8ca",
            SELECT_IMG   :@"\U0000e8cb",
            TITLE        :@"工作台"
            },
        @{
            NORMAL_IMG   :@"\U0000e8c4",
            SELECT_IMG   :@"\U0000e8c6",
            TITLE        :@"智能"
            },
        @{
            NORMAL_IMG   :@"\U0000e8c3",
            SELECT_IMG   :@"\U0000e8c9",
            TITLE        :@"通讯录"
            },
        @{
            NORMAL_IMG   :@"\U0000e8c1",
            SELECT_IMG   :@"\U0000e8c7",
            TITLE        :@"我的"




(lldb) po self.window
<UIWindow: 0x10370aaa0; frame = (0 0; 375 667); gestureR


(lldb) po [UIApplication sharedApplication].keyWindow
<UIWindow: 0x10370aaa0; frame = (0 0; 375 667);



Printing description of params:
{
    channelRegisterInfo =     (
                {
            channel = 99;
        },
                {
            channel = 5;
            channelRegisterJson = "{\n  \"token\" : \"18ea873fe012230f0e694216a481791459ffb5cffc9a950260ce185db9b8818e\",\n  \"callTokenType\" : 1\n}";
        }
    );
    clientName = "RVpTYWFT4oCZcyBpUGhvbmUgNw==";
    clientSign = 5b000d850fc7a15db9b31995921d17e4;
    clientVersion = "2.3.8";
    iotAppId = "ys_enterprise";
    loginSessionId = 268ade04a2c744f0a6b3829ba6bd968e;
}


response method:/api/message/client/register responseObject:{
    code = "saas-7777";
    data =     {
        userId = "\U4e0d\U80fd\U4e3a\U7a7a";
    };
    msg = "\U5165\U53c2\U6821\U9a8c\U5931\U8d25";
}


配置顶部 titleView
配置 UICollectionView
配置顶部 EZSaaSBannerView
注册通知监听

请求用户协议是否更新
请求数据
- (void)requestData {
    
    //请求banner轮播图
    [self requestBannerList];

    //请求用户的企业列表
    [self requestCompanyList];
    {

    }

    if (self.companyList.count && (self.currentCompanyModel.userType != 2)) {
        //请求用户的智能列表
        [self requestSmartList];

    } else {
        [self.smartList removeAllObjects];
        self.smartList = nil;
        [self.collectionView reloadData];
    }

    //请求企业的应用列表
    [self requestAppList];

    [self requestMsgCount];
}



切换公司
判断企业认证状态




@weakify(self);
@strongify(self);



- (void)setupCollectionView {
	#define bannerHeight (135)
	self.collectionView.contentInset = UIEdgeInsetsMake(bannerHeight + 25, 0, 0, 0);


- (void)requestInvitedList {
if (error) {
	CGFloat contentInsetTop = bannerHeight + 25;
    self.collectionView.contentInset = UIEdgeInsetsMake(contentInsetTop, 0, 0, 0);
    self.bannerView.frame = CGRectMake(0, -contentInsetTop+10, self.view.width, bannerHeight);

if (arr.count) {
    CGFloat topInset = 300;
    self.collectionView.contentInset = UIEdgeInsetsMake(topInset, 0, 0, 0);
    self.bannerView.frame = CGRectMake(0, -topInset+10, self.view.width, bannerHeight);

} else {  //没有邀请消息
    if (self.companyList.count) {  //用户有企业

    	CGFloat contentInsetTop = bannerHeight + 25;
        self.collectionView.contentInset = UIEdgeInsetsMake(contentInsetTop, 0, 0, 0);








"iosAppCert": //IOS证书相关
{
	"p12": //证书
	{
		"release":""
		"debug":""
		"apns":""
	},
	"mobileprovision": //描述文件
	{
		"notificationService": //推送工程
		{
			"release":""
			"debug":""
		},
		"notificationService"://主工程
		{
			"release":""
			"debug":""
		},
	}
}


