viewDidLoad


存在问题：
1.退出企业后，首页企业列表没有更新
2.处理通知的代码没有添加
3.切换企业后没有自动关闭切换企业页面
4.




配置顶部 titleView
配置 UICollectionView
配置顶部 EZSaaSBannerView
注册通知监听

请求用户协议是否更新
请求数据
- (void)requestData {
    
    //请求banner轮播图
    [self requestBannerList];

    //请求用户的企业列表
    [self requestCompanyList];
    {

    }

    if (self.companyList.count && (self.currentCompanyModel.userType != 2)) {
        //请求用户的智能列表
        [self requestSmartList];

    } else {
        [self.smartList removeAllObjects];
        self.smartList = nil;
        [self.collectionView reloadData];
    }

    //请求企业的应用列表
    [self requestAppList];

    [self requestMsgCount];
}



切换公司
判断企业认证状态




@weakify(self);
@strongify(self);



- (void)setupCollectionView {
	#define bannerHeight (135)
	self.collectionView.contentInset = UIEdgeInsetsMake(bannerHeight + 25, 0, 0, 0);


- (void)requestInvitedList {
if (error) {
	CGFloat contentInsetTop = bannerHeight + 25;
    self.collectionView.contentInset = UIEdgeInsetsMake(contentInsetTop, 0, 0, 0);
    self.bannerView.frame = CGRectMake(0, -contentInsetTop+10, self.view.width, bannerHeight);

if (arr.count) {
    CGFloat topInset = 300;
    self.collectionView.contentInset = UIEdgeInsetsMake(topInset, 0, 0, 0);
    self.bannerView.frame = CGRectMake(0, -topInset+10, self.view.width, bannerHeight);

} else {  //没有邀请消息
    if (self.companyList.count) {  //用户有企业

    	CGFloat contentInsetTop = bannerHeight + 25;
        self.collectionView.contentInset = UIEdgeInsetsMake(contentInsetTop, 0, 0, 0);








"iosAppCert": //IOS证书相关
{
	"p12": //证书
	{
		"release":""
		"debug":""
		"apns":""
	},
	"mobileprovision": //描述文件
	{
		"notificationService": //推送工程
		{
			"release":""
			"debug":""
		},
		"notificationService"://主工程
		{
			"release":""
			"debug":""
		},
	}
}


